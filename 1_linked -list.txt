 #include <stdio.h>
#include <stdlib.h>
#include <assert.h>

typedef struct ListNode{
  int val;
  struct ListNode* next;
}Node;

//增加节点
Node* creatnode(int val){
  Node* newnode=(Node*)malloc(sizeof(Node));
  if(!newnode){
    perror("Mernery alloction faild");
    //assert(false);
    return NULL;
  }
  else{
    newnode->val=val;
    newnode->next=NULL;
    return newnode;
  }
}

//头插法
void addnode_head(Node** head,int val){
  Node* newnode=creatnode(val);
  if(!*head){*head=newnode;}
  else{
    newnode->next=*head;
    *head=newnode;
  }
}
//尾插法
void addnode_tail(Node** tail,Node** list,int val){
  Node* newnode=creatnode(val);
  if(*tail==NULL){
  *tail=newnode;
  *list=*tail;
  }
  else{
  (*list)->next=newnode;
  *list=newnode;
  }
}

//中间插入
void addnode_middle(Node** middle,int pos,int val){
  Node* newnode=creatnode(val);
  if(!*middle){
    //assert(false);
  }
  else{
    Node* current=*middle;
    pos=pos-1;
    while(pos){
      pos--;
      if(current->next==NULL)
      {
        //assert(false);
      }
      current=current->next;
    }
    newnode->next=current->next;
    current->next=newnode;
  }
}

//反转链表
void turnlist(Node** list){
  Node* turn=NULL;
  Node* temp=NULL;
  while(*list){
  temp=*list;
  *list=(*list)->next;
  temp->next=turn;
  turn=temp;
  }
  *list=turn;
}

int main()
{
  Node* l1=NULL;
  Node* l1list=NULL;
  addnode_tail(&l1,&l1list,1);
  addnode_tail(&l1,&l1list,9);
  addnode_tail(&l1,&l1list,3);
  addnode_head(&l1,6);
  addnode_middle(&l1,2,8);
  addnode_tail(&l1,&l1list,1);
  addnode_middle(&l1,6,8);
  
  turnlist(&l1);
  Node* current=l1;
  while(current){
  printf("%d",current->val);
  current=current->next;
  }
  return 0;
}   